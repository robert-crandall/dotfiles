# Clone zsnap if necessary
ZNAP_PATH="$HOME/.zsh_plugins/znap"

[[ -d "$ZNAP_PATH" ]] ||
    git clone --depth 1 -- \
        https://github.com/marlonrichert/zsh-snap.git "$ZNAP_PATH"

##
# Source Znap at the start of your .zshrc file.
source "$ZNAP_PATH"/znap.zsh

# `znap source` starts plugins.
# Make sure zsh autosuggestions are loaded before anything using keybindings
ZSH_AUTOSUGGEST_STRATEGY=( history )
znap source zsh-users/zsh-autosuggestions
ZSH_HIGHLIGHT_HIGHLIGHTERS=( main brackets )
znap source zsh-users/zsh-syntax-highlighting
znap source marlonrichert/zsh-autocomplete

# `znap prompt` makes your prompt visible in just 15-40ms!
#  znap prompt sindresorhus/pure

# Use starship prompt
znap eval starship 'starship init zsh --print-full-init'
znap prompt

##
# Cache the output of slow commands with `znap eval`.
# Colorize prompt
znap source marlonrichert/zcolors
znap eval zcolors "zcolors ${(q)LS_COLORS}"

# Load custom zsh files
for file in ~/.zsh/*.zsh; do
  source "$file"
done

# load the zsh function files
for file in ~/.zsh/functions/*.zsh; do
  source "$file"
done

setopt HIST_IGNORE_SPACE # ignore commands starting with a space
setopt HIST_IGNORE_ALL_DUPS # remove duplicates in history
